# Parser é€‰å‹æŒ‡å—

## ğŸ“– æ¦‚è¿°

æœ¬æ–‡æ€»ç»“ä¸åŒ Parser çš„ç‰¹ç‚¹ï¼Œå¸®åŠ©ä½ æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„ Parserã€‚

---

## ğŸ“Š ç»¼åˆå¯¹æ¯”

### æ€§èƒ½å¯¹æ¯”

| Parser | é€Ÿåº¦ | å¯åŠ¨æ—¶é—´ | å†…å­˜å ç”¨ | åŒ…å¤§å° |
|--------|------|---------|---------|--------|
| **Babel** | 100-150 MB/s | ~100ms | 30-50 MB | 2 MB |
| **Acorn** | 150-200 MB/s | ~50ms | 15-25 MB | 500 KB |
| **Esprima** | 120-150 MB/s | ~60ms | 20-30 MB | 300 KB |
| **SWC** | 1500-2000 MB/s | ~5ms | 10-15 MB | 20 MB |
| **Oxc** | 3000-5000 MB/s | ~2ms | 5-10 MB | 15 MB |

### åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Babel | Acorn | Esprima | SWC | Oxc |
|------|-------|-------|---------|-----|-----|
| **ES2024+** | âœ… | âœ… | âš ï¸ | âœ… | âœ… |
| **TypeScript** | âœ… | âŒ | âŒ | âœ… | âœ… |
| **JSX** | âœ… | âœ…(æ’ä»¶) | âŒ | âœ… | âœ… |
| **æ’ä»¶ç³»ç»Ÿ** | âœ… | âœ… | âŒ | âš ï¸ | âš ï¸ |
| **é”™è¯¯æ¢å¤** | âœ… | âš ï¸ | âš ï¸ | âœ… | âœ… |
| **ç»´æŠ¤çŠ¶æ€** | âœ… æ´»è·ƒ | âœ… æ´»è·ƒ | âŒ åœæ» | âœ… æ´»è·ƒ | âœ… æ´»è·ƒ |

---

## ğŸ¯ é€‰å‹å†³ç­–æ ‘

### åœºæ™¯ 1ï¼šå°å‹é¡¹ç›®/å·¥å…·

**éœ€æ±‚ï¼š**
- åŒ…å¤§å°æ•æ„Ÿ
- æ€§èƒ½è¦æ±‚ä¸€èˆ¬
- åªéœ€æ ‡å‡† JavaScript

**æ¨èï¼šAcorn**

```
ä¼˜åŠ¿ï¼š
âœ… è½»é‡çº§ï¼ˆ500 KBï¼‰
âœ… æ€§èƒ½å¥½ï¼ˆ150-200 MB/sï¼‰
âœ… è¶³å¤Ÿçš„åŠŸèƒ½

åŠ£åŠ¿ï¼š
âŒ ä¸æ”¯æŒ TypeScript
```

### åœºæ™¯ 2ï¼šBabel ç”Ÿæ€

**éœ€æ±‚ï¼š**
- ä½¿ç”¨ Babel è½¬æ¢
- éœ€è¦å®Œæ•´çš„è¯­æ³•æ”¯æŒ
- éœ€è¦è‡ªå®šä¹‰æ’ä»¶

**æ¨èï¼šBabel Parser**

```
ä¼˜åŠ¿ï¼š
âœ… ä¸ Babel æ— ç¼é›†æˆ
âœ… å®Œæ•´çš„ç‰¹æ€§æ”¯æŒ
âœ… æˆç†Ÿçš„æ’ä»¶ç”Ÿæ€

åŠ£åŠ¿ï¼š
âŒ æ€§èƒ½ä¸€èˆ¬
âŒ åŒ…è¾ƒå¤§
```

### åœºæ™¯ 3ï¼šå¤§å‹é¡¹ç›®

**éœ€æ±‚ï¼š**
- æ€§èƒ½æ•æ„Ÿ
- ä»£ç é‡å¤§ï¼ˆ>100K è¡Œï¼‰
- æ”¯æŒ TypeScript/JSX

**æ¨èï¼šSWC**

```
ä¼˜åŠ¿ï¼š
âœ… 10-20x æ€§èƒ½æå‡
âœ… å®Œæ•´çš„ TS/JSX æ”¯æŒ
âœ… æˆç†Ÿç¨³å®š

åŠ£åŠ¿ï¼š
âŒ åŒ…è¾ƒå¤§ï¼ˆ20 MBï¼‰
âŒ æ’ä»¶ç”Ÿæ€å°
```

### åœºæ™¯ 4ï¼šè¶…å¤§å‹é¡¹ç›®/Monorepo

**éœ€æ±‚ï¼š**
- æè‡´æ€§èƒ½
- ç™¾ä¸‡è¡Œä»£ç 
- ç»Ÿä¸€å·¥å…·é“¾

**æ¨èï¼šOxcï¼ˆå¦‚æœå¯ç”¨ï¼‰**

```
ä¼˜åŠ¿ï¼š
âœ… 40-50x æ€§èƒ½æå‡
âœ… ç»Ÿä¸€å·¥å…·é“¾
âœ… æä½å†…å­˜å ç”¨

åŠ£åŠ¿ï¼š
âš ï¸ ä»åœ¨å¿«é€Ÿå‘å±•
âš ï¸ API å¯èƒ½å˜åŒ–
```

### åœºæ™¯ 5ï¼šå­¦ä¹ /æ•™å­¦

**éœ€æ±‚ï¼š**
- ä»£ç å¯è¯»æ€§
- æ ‡å‡†åŒ–
- æ•™å­¦å‹å¥½

**æ¨èï¼šEsprima æˆ– Acorn**

```
Esprima ä¼˜åŠ¿ï¼š
âœ… ä»£ç æ¸…æ™°
âœ… ä¸¥æ ¼éµå¾ªè§„èŒƒ

Acorn ä¼˜åŠ¿ï¼š
âœ… æ›´æ´»è·ƒçš„ç»´æŠ¤
âœ… æ›´å¥½çš„æ€§èƒ½
```

---

## ğŸ’¼ å®é™…æ¡ˆä¾‹

### å·¥å…·/é¡¹ç›®ä½¿ç”¨çš„ Parser

| å·¥å…·/é¡¹ç›® | Parser | åŸå›  |
|-----------|--------|------|
| **Babel** | Babel Parser | è‡ªå®¶äº§å“ |
| **ESLint** | Acorn + Espree | è½»é‡ã€å¿«é€Ÿ |
| **Rollup** | Acorn | æ€§èƒ½å¥½ã€ä½“ç§¯å° |
| **Webpack** | Acorn | æ€§èƒ½å¥½ |
| **Next.js** | SWC | æè‡´æ€§èƒ½ |
| **Turbopack** | SWC | Rust ç”Ÿæ€ |
| **Deno** | SWC | Rust ç”Ÿæ€ |
| **Prettier** | Babel Parser | å®Œæ•´æ”¯æŒ |
| **Biome** | è‡ªç ”(Rust) | ç»Ÿä¸€å·¥å…·é“¾ |

---

## ğŸ”„ è¿ç§»å»ºè®®

### ä» Babel è¿ç§»åˆ° SWC

**é€‚åˆè¿ç§»ï¼š**
- âœ… æ„å»ºæ—¶é—´ > 10s
- âœ… CI/CD è€—æ—¶é•¿
- âœ… å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ…¢

**è¿ç§»æ­¥éª¤ï¼š**
1. å®‰è£… SWC
2. é…ç½® `.swcrc`
3. æ›´æ–°æ„å»ºé…ç½®
4. æµ‹è¯•éªŒè¯

**æ³¨æ„äº‹é¡¹ï¼š**
- âš ï¸ æŸäº› Babel æ’ä»¶å¯èƒ½ä¸å…¼å®¹
- âš ï¸ é”™è¯¯ä¿¡æ¯å¯èƒ½ç•¥æœ‰ä¸åŒ

### ä» SWC è¿ç§»åˆ° Oxc

**é€‚åˆè¿ç§»ï¼š**
- âœ… è¶…å¤§å‹é¡¹ç›®
- âœ… éœ€è¦æè‡´æ€§èƒ½
- âœ… Monorepo

**æ³¨æ„äº‹é¡¹ï¼š**
- âš ï¸ API å¯èƒ½è¿˜åœ¨å˜åŒ–
- âš ï¸ éœ€è¦å…³æ³¨æ›´æ–°

---

## ğŸ“ˆ æ€§èƒ½æ”¶ç›Šè®¡ç®—

### ç¤ºä¾‹ï¼šä¸­å‹é¡¹ç›®

**é¡¹ç›®è§„æ¨¡ï¼š**
- ä»£ç è¡Œæ•°ï¼š50,000 è¡Œ
- æ–‡ä»¶æ•°é‡ï¼š500 ä¸ª

**Babel Parserï¼š**
```
è§£ææ—¶é—´ï¼š~5s
å†…å­˜å ç”¨ï¼š~40 MB
```

**SWC Parserï¼š**
```
è§£ææ—¶é—´ï¼š~300ms  (16x æ›´å¿«)
å†…å­˜å ç”¨ï¼š~12 MB  (3.3x æ›´å°‘)

æ¯æ¬¡æ„å»ºèŠ‚çœï¼š~4.7s
æ¯å¤©æ„å»º 20 æ¬¡ï¼šèŠ‚çœ ~94s
```

**Oxc Parserï¼š**
```
è§£ææ—¶é—´ï¼š~100ms  (50x æ›´å¿«)
å†…å­˜å ç”¨ï¼š~8 MB   (5x æ›´å°‘)

æ¯æ¬¡æ„å»ºèŠ‚çœï¼š~4.9s
æ¯å¤©æ„å»º 20 æ¬¡ï¼šèŠ‚çœ ~98s
```

---

## ğŸ¯ å¿«é€Ÿé€‰æ‹©æŒ‡å—

```
éœ€è¦ TypeScript/JSXï¼Ÿ
â”œâ”€â”€ æ˜¯ â†’ éœ€è¦æè‡´æ€§èƒ½ï¼Ÿ
â”‚   â”œâ”€â”€ æ˜¯ â†’ Oxc (å¦‚æœå¯ç”¨) æˆ– SWC
â”‚   â””â”€â”€ å¦ â†’ Babel Parser
â””â”€â”€ å¦ â†’ åŒ…å¤§å°æ•æ„Ÿï¼Ÿ
    â”œâ”€â”€ æ˜¯ â†’ Acorn
    â””â”€â”€ å¦ â†’ æ€§èƒ½é‡è¦ï¼Ÿ
        â”œâ”€â”€ æ˜¯ â†’ SWC
        â””â”€â”€ å¦ â†’ Babel Parser æˆ– Acorn
```

---

## ğŸ“ å…³é”®è¦ç‚¹

1. **æ€§èƒ½**ï¼šOxc > SWC > Acorn > Babel > Esprima
2. **åŠŸèƒ½**ï¼šBabel = SWC = Oxc > Acorn > Esprima
3. **ä½“ç§¯**ï¼šEsprima < Acorn < Babel < Oxc < SWC
4. **æˆç†Ÿåº¦**ï¼šBabel = Acorn > SWC > Oxc
5. **æœªæ¥**ï¼šRust Parserï¼ˆSWC/Oxcï¼‰æ˜¯è¶‹åŠ¿

---

## ğŸ”— å‚è€ƒèµ„æº

- [Babel Parser](https://babeljs.io/docs/babel-parser)
- [Acorn](https://github.com/acornjs/acorn)
- [SWC](https://swc.rs/)
- [Oxc](https://github.com/oxc-project/oxc)
- [Biome](https://biomejs.dev/)

---

**è®°ä½ï¼šæ²¡æœ‰æœ€å¥½çš„ Parserï¼Œåªæœ‰æœ€é€‚åˆçš„ Parserï¼** ğŸ‰

