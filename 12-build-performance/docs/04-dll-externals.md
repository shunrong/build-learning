# DLL å’Œ Externalsï¼šé¢„ç¼–è¯‘ä¼˜åŒ–

## ğŸ“– æ ¸å¿ƒé—®é¢˜

### å¤§å‹ç¬¬ä¸‰æ–¹åº“çš„æ„å»ºç“¶é¢ˆ

```
å…¸å‹çš„ React é¡¹ç›®ï¼š

node_modules/
  â”œâ”€ react (200 KB)
  â”œâ”€ react-dom (1.2 MB)
  â”œâ”€ lodash (500 KB)
  â”œâ”€ moment (2.4 MB)  â† âš ï¸ ä½“ç§¯å¤§æˆ·
  â””â”€ antd (3 MB)      â† âš ï¸ ä½“ç§¯å¤§æˆ·

é—®é¢˜ï¼š
  â””â”€ æ¯æ¬¡æ„å»ºéƒ½è¦é‡æ–°æ‰“åŒ…è¿™äº›åº“
  â””â”€ å³ä½¿å®ƒä»¬ä»ä¸æ”¹å˜ ğŸ˜«
```

**è§£å†³æ€è·¯**ï¼š
- è¿™äº›åº“å¾ˆå°‘å˜åŒ–
- å¯ä»¥é¢„å…ˆç¼–è¯‘
- æ„å»ºæ—¶ç›´æ¥ä½¿ç”¨

---

## ğŸ”§ æ–¹æ¡ˆä¸€ï¼šDLLPlugin â­ï¸â­ï¸

### ä»€ä¹ˆæ˜¯ DLLï¼Ÿ

**DLL (Dynamic Link Library)** = åŠ¨æ€é“¾æ¥åº“

**åŸç†**ï¼š

```
ä¼ ç»Ÿæ„å»ºï¼š
  æ¯æ¬¡æ„å»º â†’  æ‰“åŒ… react + react-dom + ...
             â†“ (è€—æ—¶ 40s)
  ç”Ÿæˆ â†’  bundle.js

DLL æ„å»ºï¼š
  ç¬¬ä¸€æ¬¡ â†’  é¢„ç¼–è¯‘ react + react-dom â†’ dll.vendor.js
           â†“ (åªéœ€ä¸€æ¬¡ï¼Œè€—æ—¶ 40s)
  ä¹‹å â†’  ç›´æ¥å¼•ç”¨ dll.vendor.js
         â†“ (è€—æ—¶ 0s) âš¡ï¸
  ç”Ÿæˆ â†’  bundle.js (æ›´å°ï¼Œæ›´å¿«)
```

---

### é…ç½®æ­¥éª¤

#### æ­¥éª¤ 1ï¼šåˆ›å»º DLL é…ç½®

```javascript
// webpack.dll.config.js
const path = require('path');
const webpack = require('webpack');

module.exports = {
  mode: 'production',
  
  entry: {
    vendor: [
      'react',
      'react-dom',
      'lodash',
      // å…¶ä»–ä¸å¸¸å˜åŒ–çš„åº“
    ]
  },
  
  output: {
    path: path.resolve(__dirname, 'dll'),
    filename: '[name].dll.js',
    library: '[name]_library'  // â­ï¸ æš´éœ²çš„å…¨å±€å˜é‡å
  },
  
  plugins: [
    new webpack.DllPlugin({
      name: '[name]_library',
      path: path.resolve(__dirname, 'dll/[name]-manifest.json')
      //                                 â†‘
      //                         â­ï¸ manifest æ–‡ä»¶ï¼ˆæ˜ å°„å…³ç³»ï¼‰
    })
  ]
};
```

---

#### æ­¥éª¤ 2ï¼šæ„å»º DLL

```bash
# package.json
{
  "scripts": {
    "build:dll": "webpack --config webpack.dll.config.js"
  }
}

# æ‰§è¡Œæ„å»º
npm run build:dll
```

**ç”Ÿæˆæ–‡ä»¶**ï¼š

```
dll/
  â”œâ”€ vendor.dll.js           â† DLL æ–‡ä»¶ï¼ˆåŒ…å« react, react-dom ç­‰ï¼‰
  â””â”€ vendor-manifest.json    â† manifest æ–‡ä»¶ï¼ˆæ¨¡å—æ˜ å°„ï¼‰
```

---

#### æ­¥éª¤ 3ï¼šåœ¨ä¸»é…ç½®ä¸­å¼•ç”¨ DLL

```javascript
// webpack.config.js
const webpack = require('webpack');
const path = require('path');

module.exports = {
  // ...
  plugins: [
    new webpack.DllReferencePlugin({
      manifest: require('./dll/vendor-manifest.json')
      //                    â†‘
      //            â­ï¸ å¼•ç”¨ manifest æ–‡ä»¶
    }),
    
    // å¯é€‰ï¼šè‡ªåŠ¨åœ¨ HTML ä¸­æ³¨å…¥ DLL
    new AddAssetHtmlPlugin({
      filepath: path.resolve(__dirname, 'dll/vendor.dll.js')
    })
  ]
};
```

---

#### æ­¥éª¤ 4ï¼šåœ¨ HTML ä¸­å¼•ç”¨ DLL

```html
<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>My App</title>
</head>
<body>
  <div id="app"></div>
  
  <!-- â­ï¸ å…ˆåŠ è½½ DLL -->
  <script src="/dll/vendor.dll.js"></script>
  
  <!-- å†åŠ è½½ä¸»åº”ç”¨ -->
  <script src="/main.js"></script>
</body>
</html>
```

---

### å®æˆ˜æ•ˆæœ

#### é¡¹ç›®èƒŒæ™¯

```
â”œâ”€ æŠ€æœ¯æ ˆï¼šReact + Lodash + Moment
â”œâ”€ ç¬¬ä¸‰æ–¹åº“ä½“ç§¯ï¼š5 MB
â””â”€ ç¬¬ä¸‰æ–¹åº“æ„å»ºæ—¶é—´ï¼š40s
```

#### æ•°æ®å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     åœºæ™¯         â”‚  æ—  DLL  â”‚ æœ‰ DLL   â”‚  æå‡    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¦–æ¬¡æ„å»º         â”‚  180s    â”‚  140s    â”‚  -22%   â”‚
â”‚ ä¿®æ”¹ä¸šåŠ¡ä»£ç      â”‚  180s    â”‚  120s    â”‚  -33%   â”‚
â”‚ ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“     â”‚  180s    â”‚  180s    â”‚   0%    â”‚
â”‚ DLL é¢„ç¼–è¯‘       â”‚   -      â”‚  40s     â”‚  (ä¸€æ¬¡æ€§) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“è®ºï¼š
  â”œâ”€ ä¸šåŠ¡ä»£ç ä¿®æ”¹ï¼šæå‡ 30% âš¡ï¸
  â”œâ”€ ç¬¬ä¸‰æ–¹åº“ä¿®æ”¹ï¼šéœ€è¦é‡æ–°æ„å»º DLL
  â””â”€ é€‚åˆï¼šç¬¬ä¸‰æ–¹åº“ç¨³å®šçš„é¡¹ç›®
```

---

### DLL çš„ä¼˜ç¼ºç‚¹

#### ä¼˜ç‚¹ âœ…

```
1. åŠ é€Ÿæ„å»º
   â””â”€ ç¬¬ä¸‰æ–¹åº“ä¸éœ€è¦é‡å¤æ‰“åŒ…

2. ç‹¬ç«‹éƒ¨ç½²
   â””â”€ DLL æ–‡ä»¶å¯ä»¥é•¿æœŸç¼“å­˜

3. å‡å°‘æ„å»ºä½“ç§¯
   â””â”€ ä¸» bundle æ›´å°
```

#### ç¼ºç‚¹ âŒ

```
1. é…ç½®å¤æ‚
   â””â”€ éœ€è¦ç»´æŠ¤ä¸¤ä¸ªé…ç½®æ–‡ä»¶

2. ç»´æŠ¤æˆæœ¬é«˜
   â””â”€ ç¬¬ä¸‰æ–¹åº“æ›´æ–°æ—¶éœ€è¦é‡æ–°æ„å»º DLL

3. æ•ˆæœä¸å¦‚ç¼“å­˜
   â””â”€ Webpack 5 çš„ filesystem cache æ›´ç®€å•ã€æ•ˆæœæ›´å¥½

4. è°ƒè¯•å›°éš¾
   â””â”€ Source Map å¤æ‚
```

---

## ğŸŒ æ–¹æ¡ˆäºŒï¼šExternals â­ï¸â­ï¸â­ï¸

### ä»€ä¹ˆæ˜¯ Externalsï¼Ÿ

**å°†æŸäº›ä¾èµ–æ’é™¤åœ¨æ‰“åŒ…ä¹‹å¤–ï¼Œæ”¹ç”¨ CDN åŠ è½½ã€‚**

**åŸç†**ï¼š

```
ä¼ ç»Ÿæ„å»ºï¼š
  æ‰“åŒ…ï¼šreact + react-dom + ä½ çš„ä»£ç  â†’ bundle.js (5 MB)
         â†“
  åŠ è½½ï¼šbundle.js (5 MB)

Externals æ„å»ºï¼š
  æ‰“åŒ…ï¼šä½ çš„ä»£ç  â†’ bundle.js (500 KB)
         â†“
  åŠ è½½ï¼š
    1. CDN åŠ è½½ react.js (200 KB)  â† å…¨çƒ CDNï¼Œè¶…å¿«
    2. CDN åŠ è½½ react-dom.js (1 MB)
    3. åŠ è½½ bundle.js (500 KB)
    
  æ€»ä½“ç§¯ï¼š1.7 MB vs 5 MBï¼ˆå‡å°‘ 66%ï¼‰âš¡ï¸
```

---

### é…ç½®

```javascript
// webpack.config.js
module.exports = {
  externals: {
    // åŒ…å: å…¨å±€å˜é‡å
    'react': 'React',
    'react-dom': 'ReactDOM',
    'lodash': '_',
    'moment': 'moment',
    'antd': 'antd'
  }
};
```

**å«ä¹‰**ï¼š
- é‡åˆ° `import React from 'react'` æ—¶
- ä¸æ‰“åŒ… react
- è€Œæ˜¯ä½¿ç”¨å…¨å±€å˜é‡ `window.React`

---

### HTML ä¸­å¼•å…¥ CDN

```html
<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>My App</title>
  
  <!-- â­ï¸ ä» CDN åŠ è½½ç¬¬ä¸‰æ–¹åº“ -->
  <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4/lodash.min.js"></script>
</head>
<body>
  <div id="app"></div>
  
  <!-- ä½ çš„åº”ç”¨ä»£ç  -->
  <script src="/main.js"></script>
</body>
</html>
```

---

### ä½¿ç”¨ HtmlWebpackExternalsPlugin

**è‡ªåŠ¨æ³¨å…¥ CDN é“¾æ¥**ï¼š

```bash
npm install --save-dev html-webpack-externals-plugin
```

```javascript
// webpack.config.js
const HtmlWebpackExternalsPlugin = require('html-webpack-externals-plugin');

module.exports = {
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html'
    }),
    
    new HtmlWebpackExternalsPlugin({
      externals: [
        {
          module: 'react',
          entry: 'https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js',
          global: 'React'
        },
        {
          module: 'react-dom',
          entry: 'https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js',
          global: 'ReactDOM'
        }
      ]
    })
  ]
};
```

---

### å®æˆ˜æ•ˆæœ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     æŒ‡æ ‡         â”‚  æ— ä¼˜åŒ–   â”‚ Externalsâ”‚  æå‡    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ„å»ºæ—¶é—´         â”‚  180s    â”‚  100s    â”‚  -44%   â”‚
â”‚ bundle ä½“ç§¯      â”‚  5 MB    â”‚  800 KB  â”‚  -84%   â”‚
â”‚ é¦–å±åŠ è½½æ—¶é—´     â”‚  3.5s    â”‚  1.8s    â”‚  -49%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é¢å¤–ä¼˜åŠ¿ï¼š
  â”œâ”€ CDN ç¼“å­˜ï¼ˆç”¨æˆ·å¯èƒ½å·²æœ‰ç¼“å­˜ï¼‰
  â”œâ”€ å¹¶è¡ŒåŠ è½½ï¼ˆæµè§ˆå™¨å¯ä»¥åŒæ—¶ä¸‹è½½ï¼‰
  â””â”€ å…¨çƒåŠ é€Ÿï¼ˆCDN å°±è¿‘è®¿é—®ï¼‰
```

---

### Externals çš„ä¼˜ç¼ºç‚¹

#### ä¼˜ç‚¹ âœ…

```
1. é…ç½®ç®€å•
   â””â”€ åªéœ€è¦é…ç½® externals å¯¹è±¡

2. æ„å»ºæ›´å¿«
   â””â”€ ä¸éœ€è¦æ‰“åŒ…ç¬¬ä¸‰æ–¹åº“

3. ä½“ç§¯æ›´å°
   â””â”€ bundle ä½“ç§¯å¤§å¹…å‡å°‘

4. åŠ è½½æ›´å¿«
   â””â”€ CDN ç¼“å­˜ + å¹¶è¡ŒåŠ è½½

5. ç»´æŠ¤ç®€å•
   â””â”€ ä¸éœ€è¦é‡æ–°æ„å»º
```

#### ç¼ºç‚¹ âŒ

```
1. ä¾èµ– CDN å¯ç”¨æ€§
   â””â”€ CDN æŒ‚äº†ï¼Œåº”ç”¨ä¹ŸæŒ‚äº†

2. ç‰ˆæœ¬ç®¡ç†å¤æ‚
   â””â”€ éœ€è¦ç¡®ä¿ CDN ç‰ˆæœ¬å’Œ package.json ä¸€è‡´

3. æœ¬åœ°å¼€å‘ä¸ä¾¿
   â””â”€ éœ€è¦ç½‘ç»œè¿æ¥

4. ä¸é€‚åˆå†…ç½‘ç¯å¢ƒ
   â””â”€ å†…ç½‘æ— æ³•è®¿é—®å…¬å…± CDN
```

---

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”

### ä¸‰ç§æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | æ„å»ºæ—¶é—´ | é…ç½®å¤æ‚åº¦ | ç»´æŠ¤æˆæœ¬ | é€‚ç”¨åœºæ™¯ | æ¨èåº¦ |
|------|---------|-----------|---------|---------|--------|
| **æ— ä¼˜åŒ–** | 180s | â­ï¸ ç®€å• | â­ï¸ ä½ | - | âŒ |
| **DLLPlugin** | 120s | â­ï¸â­ï¸â­ï¸ å¤æ‚ | â­ï¸â­ï¸â­ï¸ é«˜ | å†…ç½‘ã€å¤§å‹é¡¹ç›® | â­ï¸ |
| **Externals** | 100s | â­ï¸ ç®€å• | â­ï¸ ä½ | å…¬ç½‘é¡¹ç›® | â­ï¸â­ï¸â­ï¸ |
| **Filesystem Cache** | 15s | â­ï¸ ç®€å• | â­ï¸ ä½ | æ‰€æœ‰é¡¹ç›® | â­ï¸â­ï¸â­ï¸ |

---

### Webpack 5 æ—¶ä»£çš„é€‰æ‹©

```
ä¼˜å…ˆçº§ï¼š

P0ï¼ˆæœ€é«˜ï¼‰ï¼šFilesystem Cache
  â”œâ”€ é…ç½®ç®€å•
  â”œâ”€ æ•ˆæœæœ€å¥½ï¼ˆ-90%+ï¼‰
  â””â”€ å¼ºçƒˆæ¨è â­ï¸â­ï¸â­ï¸

P1ï¼ˆæ¬¡è¦ï¼‰ï¼šExternals
  â”œâ”€ é…ç½®ç®€å•
  â”œâ”€ å‡å°‘ä½“ç§¯
  â””â”€ æ¨èï¼ˆå…¬ç½‘é¡¹ç›®ï¼‰â­ï¸â­ï¸

P2ï¼ˆå¯é€‰ï¼‰ï¼šDLLPlugin
  â”œâ”€ é…ç½®å¤æ‚
  â”œâ”€ ç»´æŠ¤æˆæœ¬é«˜
  â””â”€ ä¸æ¨èï¼ˆWebpack 5ï¼‰â­ï¸

ç»“è®ºï¼š
  â””â”€ Webpack 5 å·²ç»ä¸éœ€è¦ DLL äº†
  â””â”€ ä¼˜å…ˆä½¿ç”¨ Cache + Externals
```

---

## ğŸ¯ å®æˆ˜å»ºè®®

### æ¨èç»„åˆ

```javascript
// webpack.config.jsï¼ˆç”Ÿäº§çº§é…ç½®ï¼‰
module.exports = {
  // 1. å¯ç”¨ç¼“å­˜ï¼ˆæœ€é‡è¦ï¼‰
  cache: {
    type: 'filesystem',
    buildDependencies: {
      config: [__filename]
    }
  },
  
  // 2. ä½¿ç”¨ Externalsï¼ˆå…¬ç½‘é¡¹ç›®ï¼‰
  externals: {
    'react': 'React',
    'react-dom': 'ReactDOM',
    'lodash': '_'
  },
  
  // 3. å…¶ä»–ä¼˜åŒ–...
};
```

**æ•ˆæœ**ï¼š
- é¦–æ¬¡æ„å»ºï¼š180s â†’ 100sï¼ˆ-44%ï¼‰
- äºŒæ¬¡æ„å»ºï¼š180s â†’ 12sï¼ˆ-93%ï¼‰âš¡ï¸âš¡ï¸âš¡ï¸
- åŒ…ä½“ç§¯ï¼š5 MB â†’ 800 KBï¼ˆ-84%ï¼‰

---

## ğŸ“ é¢è¯•æ”»é˜²

### é—®é¢˜ 1ï¼šDLLPlugin å’Œ Externals æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**æ ‡å‡†å›ç­”**ï¼š

| å¯¹æ¯”ç»´åº¦ | DLLPlugin | Externals |
|---------|-----------|-----------|
| **åŸç†** | é¢„ç¼–è¯‘ç¬¬ä¸‰æ–¹åº“ä¸º DLL | æ’é™¤ç¬¬ä¸‰æ–¹åº“ï¼Œä½¿ç”¨ CDN |
| **é…ç½®** | å¤æ‚ï¼ˆéœ€è¦ä¸¤ä¸ªé…ç½®ï¼‰ | ç®€å•ï¼ˆä¸€ä¸ªé…ç½®ï¼‰ |
| **æ„å»ºæ—¶é—´** | ä¸­ç­‰ï¼ˆ-30%ï¼‰ | å¿«ï¼ˆ-40%ï¼‰ |
| **åŒ…ä½“ç§¯** | ä¸­ç­‰ï¼ˆåˆ†ç¦»ï¼‰ | å°ï¼ˆä¸æ‰“åŒ…ï¼‰ |
| **ä¾èµ–æ€§** | ä¸ä¾èµ–å¤–éƒ¨ | ä¾èµ– CDN |
| **é€‚ç”¨åœºæ™¯** | å†…ç½‘ç¯å¢ƒ | å…¬ç½‘ç¯å¢ƒ |
| **Webpack 5** | ä¸æ¨è | æ¨è |

**æ¨è**ï¼š
- å…¬ç½‘é¡¹ç›® â†’ Externals
- å†…ç½‘é¡¹ç›® â†’ Filesystem Cacheï¼ˆä¸éœ€è¦ DLLï¼‰

---

### é—®é¢˜ 2ï¼šWebpack 5 è¿˜éœ€è¦ä½¿ç”¨ DLL å—ï¼Ÿ

**æ ‡å‡†å›ç­”**ï¼š

```
ç»“è®ºï¼šä¸éœ€è¦äº† âŒ

åŸå› ï¼š
1. Filesystem Cache æ•ˆæœæ›´å¥½
   â””â”€ äºŒæ¬¡æ„å»ºæå‡ 90%+
   â””â”€ é…ç½®æ›´ç®€å•

2. DLL çš„ä¼˜åŠ¿å·²ç»ä¸æ˜æ˜¾
   â””â”€ åªèƒ½æå‡ 30-40%
   â””â”€ é…ç½®å¤æ‚ï¼Œç»´æŠ¤æˆæœ¬é«˜

3. å®˜æ–¹ä¸å†æ¨è
   â””â”€ Webpack 5 æ–‡æ¡£å·²ä¸æ¨è DLL

æ›¿ä»£æ–¹æ¡ˆï¼š
  â”œâ”€ ç¼“å­˜ï¼šfilesystem cache
  â”œâ”€ ä½“ç§¯ï¼šExternals
  â””â”€ é€Ÿåº¦ï¼šthread-loader
```

**æ•°æ®å¯¹æ¯”**ï¼š

```
Filesystem Cacheï¼š
  â””â”€ äºŒæ¬¡æ„å»ºï¼š-93% âš¡ï¸âš¡ï¸âš¡ï¸

DLLPluginï¼š
  â””â”€ ä¸šåŠ¡ä»£ç ä¿®æ”¹ï¼š-30% âš¡ï¸

è°æ›´å¥½ï¼Ÿæ˜¾è€Œæ˜“è§ã€‚
```

---

### é—®é¢˜ 3ï¼šä½¿ç”¨ Externals æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ

**é£é™©å’Œè§£å†³æ–¹æ¡ˆ**ï¼š

```
é£é™© 1ï¼šCDN ä¸å¯ç”¨
  â””â”€ è§£å†³ï¼šä½¿ç”¨ fallback
  
é£é™© 2ï¼šç‰ˆæœ¬ä¸ä¸€è‡´
  â””â”€ è§£å†³ï¼šé”å®š CDN ç‰ˆæœ¬å·
  
é£é™© 3ï¼šæœ¬åœ°å¼€å‘ä¸ä¾¿
  â””â”€ è§£å†³ï¼šå¼€å‘ç¯å¢ƒä¸ä½¿ç”¨ Externals
  
é£é™© 4ï¼šç½‘ç»œå»¶è¿Ÿ
  â””â”€ è§£å†³ï¼šé€‰æ‹©ä¼˜è´¨ CDNï¼ˆå¦‚ jsDelivrï¼‰
```

**Fallback é…ç½®**ï¼š

```html
<script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
<script>
  // â­ï¸ CDN åŠ è½½å¤±è´¥æ—¶ï¼ŒåŠ è½½æœ¬åœ°æ–‡ä»¶
  if (!window.React) {
    document.write('<script src="/vendor/react.min.js"><\/script>');
  }
</script>
```

---

## ğŸš€ ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å·²ç»æŒæ¡äº†**é¢„ç¼–è¯‘ä¼˜åŒ–**ï¼š
- âœ… ç†è§£ DLL å’Œ Externals çš„åŸç†
- âœ… çŸ¥é“å¦‚ä½•é…ç½® DLLPlugin
- âœ… æŒæ¡ Externals çš„æœ€ä½³å®è·µ
- âœ… æ˜ç™½ Webpack 5 çš„ä¼˜åŒ–é€‰æ‹©

**Externals é…ç½®ç®€å•ï¼Œæ•ˆæœæ˜¾è‘—ï¼** âš¡ï¸âš¡ï¸

**ä¸‹ä¸€æ­¥**ï¼šå­¦ä¹ ç»¼åˆä¼˜åŒ–æœ€ä½³å®è·µ - [05-optimization-best-practices.md](./05-optimization-best-practices.md) ğŸš€

