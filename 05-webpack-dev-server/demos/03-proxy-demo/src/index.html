<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä»£ç†é…ç½®æ¼”ç¤º</title>
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>ğŸ”€ Webpack Dev Server ä»£ç†é…ç½®</h1>
      <p class="subtitle">è§£å†³è·¨åŸŸé—®é¢˜ï¼Œå®ç°å‰åç«¯åˆ†ç¦»å¼€å‘</p>
    </header>

    <div class="content">
      <!-- Section 1: åŸºç¡€ä»£ç† -->
      <section class="section">
        <h2>ğŸ“¡ åŸºç¡€ API ä»£ç†</h2>
        <p class="description">
          é€šè¿‡ä»£ç†è®¿é—®åç«¯ APIï¼Œæ— éœ€æ‹…å¿ƒè·¨åŸŸé—®é¢˜
        </p>
        <div class="api-tests">
          <div class="test-item">
            <h3>GET /api/users</h3>
            <button class="btn" id="btn-users">è·å–ç”¨æˆ·åˆ—è¡¨</button>
            <pre class="result" id="result-users"></pre>
          </div>
          
          <div class="test-item">
            <h3>GET /api/users/1</h3>
            <button class="btn" id="btn-user">è·å–ç”¨æˆ·è¯¦æƒ…</button>
            <pre class="result" id="result-user"></pre>
          </div>
          
          <div class="test-item">
            <h3>POST /api/users</h3>
            <button class="btn" id="btn-create">åˆ›å»ºç”¨æˆ·</button>
            <pre class="result" id="result-create"></pre>
          </div>
        </div>
      </section>

      <!-- Section 2: ç¬¬ä¸‰æ–¹ API ä»£ç† -->
      <section class="section">
        <h2>ğŸŒ ç¬¬ä¸‰æ–¹ API ä»£ç†</h2>
        <p class="description">
          ä»£ç†åˆ° GitHub APIï¼Œæ¼”ç¤ºè·¨åŸŸèµ„æºè®¿é—®
        </p>
        <div class="api-tests">
          <div class="test-item">
            <h3>GET /github/users/github</h3>
            <button class="btn" id="btn-github">è·å– GitHub ä¿¡æ¯</button>
            <pre class="result" id="result-github"></pre>
          </div>
        </div>
      </section>

      <!-- Section 3: é«˜çº§åœºæ™¯ -->
      <section class="section">
        <h2>ğŸ”§ é«˜çº§ä»£ç†åœºæ™¯</h2>
        <div class="api-tests">
          <div class="test-item">
            <h3>GET /api/search?q=webpack</h3>
            <button class="btn" id="btn-search">æœç´¢æµ‹è¯•</button>
            <pre class="result" id="result-search"></pre>
          </div>
          
          <div class="test-item">
            <h3>GET /api/error</h3>
            <button class="btn btn-danger" id="btn-error">é”™è¯¯å¤„ç†æµ‹è¯•</button>
            <pre class="result" id="result-error"></pre>
          </div>
          
          <div class="test-item">
            <h3>GET /api/slow</h3>
            <button class="btn btn-warning" id="btn-slow">æ…¢è¯·æ±‚æµ‹è¯•ï¼ˆ3ç§’ï¼‰</button>
            <pre class="result" id="result-slow"></pre>
          </div>
          
          <div class="test-item">
            <h3>GET /api/protected</h3>
            <button class="btn" id="btn-protected">è®¤è¯è¯·æ±‚æµ‹è¯•</button>
            <pre class="result" id="result-protected"></pre>
          </div>
        </div>
      </section>

      <!-- Section 4: é…ç½®è¯´æ˜ -->
      <section class="section">
        <h2>ğŸ“ å½“å‰ä»£ç†é…ç½®</h2>
        <div class="config-display">
          <h3>1. æœ¬åœ° API ä»£ç†</h3>
          <pre class="code-block">{
  context: ['/api'],
  target: 'http://localhost:4000',
  changeOrigin: true,
  pathRewrite: {
    '^/api': ''  // /api/users â†’ /users
  }
}</pre>
          
          <h3>2. GitHub API ä»£ç†</h3>
          <pre class="code-block">{
  context: ['/github'],
  target: 'https://api.github.com',
  changeOrigin: true,
  pathRewrite: {
    '^/github': ''  // /github/users/github â†’ /users/github
  },
  headers: {
    'User-Agent': 'webpack-dev-server'
  }
}</pre>
          
          <h3>3. è¯·æ±‚æµç¨‹</h3>
          <div class="flow-chart">
            <div class="flow-step">æµè§ˆå™¨<br/>/api/users</div>
            <div class="arrow">â†’</div>
            <div class="flow-step">Dev Server<br/>ä»£ç†è½¬å‘</div>
            <div class="arrow">â†’</div>
            <div class="flow-step">åç«¯<br/>localhost:4000/users</div>
            <div class="arrow">â†’</div>
            <div class="flow-step">å“åº”è¿”å›</div>
          </div>
        </div>
      </section>

      <!-- Section 5: ä½¿ç”¨è¯´æ˜ -->
      <section class="section">
        <h2>ğŸ’¡ ä½¿ç”¨è¯´æ˜</h2>
        <div class="instructions">
          <div class="instruction-step">
            <span class="step-number">1</span>
            <div class="step-content">
              <h4>å¯åŠ¨ Mock æœåŠ¡å™¨</h4>
              <code>npm run mock-server</code>
              <p>åœ¨ 4000 ç«¯å£å¯åŠ¨æ¨¡æ‹Ÿçš„åç«¯ API</p>
            </div>
          </div>
          
          <div class="instruction-step">
            <span class="step-number">2</span>
            <div class="step-content">
              <h4>å¯åŠ¨ Dev Server</h4>
              <code>npm run dev</code>
              <p>åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨ Webpack Dev Server</p>
            </div>
          </div>
          
          <div class="instruction-step">
            <span class="step-number">3</span>
            <div class="step-content">
              <h4>æµ‹è¯•ä»£ç†åŠŸèƒ½</h4>
              <p>ç‚¹å‡»ä¸Šæ–¹çš„æŒ‰é’®ï¼Œæµ‹è¯•å„ç§ä»£ç†åœºæ™¯</p>
            </div>
          </div>
          
          <div class="instruction-step">
            <span class="step-number">4</span>
            <div class="step-content">
              <h4>è§‚å¯Ÿæ§åˆ¶å°</h4>
              <p>åœ¨ Mock æœåŠ¡å™¨çš„ç»ˆç«¯æŸ¥çœ‹ä»£ç†çš„è¯·æ±‚æ—¥å¿—</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 6: å¸¸è§é—®é¢˜ -->
      <section class="section">
        <h2>â“ å¸¸è§é—®é¢˜</h2>
        <div class="faq">
          <div class="faq-item">
            <h4>Q: ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†ï¼Ÿ</h4>
            <p>A: æµè§ˆå™¨çš„åŒæºç­–ç•¥é™åˆ¶äº†è·¨åŸŸè¯·æ±‚ã€‚å¼€å‘æ—¶å‰ç«¯ï¼ˆlocalhost:8080ï¼‰å’Œåç«¯ï¼ˆlocalhost:4000ï¼‰ä¸åŒæºï¼Œéœ€è¦ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ã€‚</p>
          </div>
          
          <div class="faq-item">
            <h4>Q: changeOrigin çš„ä½œç”¨ï¼Ÿ</h4>
            <p>A: ä¿®æ”¹è¯·æ±‚å¤´çš„ Origin å­—æ®µï¼Œä½¿åç«¯è®¤ä¸ºè¯·æ±‚æ¥è‡ªåŒæºã€‚æŸäº›åç«¯ä¼šæ£€æŸ¥ Originã€‚</p>
          </div>
          
          <div class="faq-item">
            <h4>Q: pathRewrite å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h4>
            <p>A: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é‡å†™è·¯å¾„ã€‚ä¾‹å¦‚ '^/api': '' ä¼šå°† /api/users è½¬æ¢ä¸º /usersã€‚</p>
          </div>
          
          <div class="faq-item">
            <h4>Q: ç”Ÿäº§ç¯å¢ƒæ€ä¹ˆåŠï¼Ÿ</h4>
            <p>A: ç”Ÿäº§ç¯å¢ƒé€šå¸¸ä½¿ç”¨ Nginx ç­‰åå‘ä»£ç†ï¼Œæˆ–è€…å‰åç«¯åŒåŸŸéƒ¨ç½²ï¼Œä¸éœ€è¦ webpack-dev-server çš„ä»£ç†ã€‚</p>
          </div>
        </div>
      </section>
    </div>
  </div>
</body>
</html>

